\chapter{Clanes}%
\label{cap:clanes}

\section{Teoremas y demostraciones de clanes}%
\label{sec:etiquetas}


\begin{lema}%
        \label{lem:K3}
        Sean $A$, $B$ y $C$ v\'ertices en $F_k(G)$ tales que son adyacentes dos
        a dos. Entonces se cumple s\'olo una de las siguientes relaciones $B
        \cap C \subset A$ o $A \subset B \cup C$
        \end{lema}

    
    \begin{proof}
        Primero, supongamos que existen $A$, $B$, $C$ v\'ertices en $F_k(G)$
        tales que son adyacentes dos a dos y cumplen $B \cap C \not\subset A$ y
        $A \not\subset B \cup C$. Entonces existen los v\'ertices  $a \in A
        \setminus (B \cup C)$ y $b \in (B \cap C)\setminus A$. Notamos que $b
        \in B \setminus A$ y $b \in C \setminus A$. De manera an\'aloga tenemos
        que $a \in A \setminus B$ y $a \in A \setminus C$. Por otro lado sabmeos
        que $A$ y $B$ son adyacentes en $F_k(G)$, al igual que $A$ y $C$, por lo
        tanto tenemos que $A \triangle B = \{a,b\}$ y $A \triangle C = \{a,
        b\}$. Entonces tenemos que $(B \cup C \cup \{a\})\setminus \{b\}
        \subseteq A$. Pero $B$ y $C$ son adyacentes en $F_k(G)$ por lo que $|B
        \cup C| = k+1$, entonces tenemos que $|A| \geq k+1$, lo cu\'al es una
        contradicci\'on pues $A \in V (F_k(G))$. 

        Ahora supongamos que existen $A$, $B$ y $C$ v\'ertices en $F_k(G)$ que
        son adyacentes dos a dos y cumplen $A \subset B \cup C$ y $B \cap C
        \subset A$. Como $B$ y $C$ son adyacentes, entonces tenemos que $B
        \triangle C = \{b,c\}$ con $b \in B$ y $c \in C$. Adem\'as tenemos que
        $|B \cap C| = k-1$ y $|B \cup C| = k +1$. Notamos que $B \cup C = (B\cap
        C) \cup \{b,c\}$. Por otro lado, dado que $|A|=k$ y $B \cap C \subset
        A$, tenemos que existe $a \in A$ tal que $A = (B \cap C) \cup \{a\}$.
        Adicionalmente, $A \subset B \cup C$, por lo que $a \in \{b, c\}$.
        Entonces tenemos que $A = (B \cap C) \cup \{b\}$ o $A = (B \cap C) \cup
        \{c\}$, es decir $A = B$ o $A=C$, lo cu\'al es una contradicci\'on. Por
        lo tanto tenemos que $B \cap C \subset A$ o $A \subset B \cup C$.
    \end{proof}

    \begin{teorema}
    \label{teo:clanG-clanFG}
        Sea $X$ un conjunto de v\'ertices de $F_k(G)$. Entonces $X$ es un clan
        de $F_k(G)$ si y s\'olo si hay un clan $K$ de $G$ y un conjunto $S
        \subseteq V(G)$ tales que $K \cap S = \varnothing$ y pasa uno de los
        siguientes casos:
        \begin{enumerate}
            \item $X = \{S \cup \{v\}\colon\ v \in K\}$ y $|S| = k-1$
            \item $X = \{(S\cup K) \setminus \{v\}\colon\ v \in K \}$ y $|S| + |K| =
            k+1$
        \end{enumerate}
    \end{teorema}

    \begin{proof}
        Primero nos enfocamos en la primera implicaci\'on, es decir, dado $X$ un
        clan de $F_k(G)$, demostremos que existe un clan $K$ de $G$ y un
        conjunto $V \subseteq V(G)$ tales que $K \cap S = \varnothing$ y ocurre
        alguno de los incisos del teorema. Si $|X|=2$, entonces $X= \{A, B\}$
        para alg\'unos v\'ertices $A, B$ de $F_k(G)$ tales que $AB \in
        E(F_k(G))$. Definimos $K = A \triangle B$ y $S=A \cap B$ y notamos que
        de esta manera $X$ satisface ambos incisos.

        Ahora veamos el caso en el que $|X|= p \geq 3$. Tomamos $X=\{A_1, A_2,
        \dots, A_p\}$ donde $A_i{A_j} \in E(F_k(G))$, para cualesquiera $i\neq
        j$, con $i,j \in \{1, \dots, p\}$. Por \cref{lem:K3} tenemos que $A_1\cap A_2 \subset A_i$ o $A_i \subset A_1 \cup
        A_2$ para todo $i \in \{3 \dots,p \}$. Sean $A_i, A_j \in X$ tales que
        $i \neq j$ y $i, j \in \{3, \dots, p\}$. Supongamos que tenemos el caso
        en el que $A_1\cap A_2 \subset A_i$ y $A_j \subset A_1 \cup A_2$.
        Denotamos por $a_1$ y $a_2$ a los v\'ertices en $G$ que forman la
        diferencia sim\'etrica de $A_1$ y $A_2$. Por un lado tenemos que $A_i
        \not\subset A_1\cup A_2$, por \cref{lem:K3},
        entonces $A_i = (A_1\cap A_2) \cup \{b\}$ con $b \notin A_1\cup A_2$.
        Por otro lado tenemos que $A_1 \cap A_2 \not\subset A_j$, tambi\'en por
        \cref{lem:K3}. En otras palabras, existe $c \in
        A_1 \cap A_2$ tal que $c \notin A_j$. Sin embargo, $A_j \subset A_1 \cup
        A_2$ y $|A_1 \cup A_2| =k+1$, por lo que $A_j = (A_1 \cup A_2)\setminus
        \{c\}$. Entonces $a_1, a_2 \in A_j$ y $a_1, a_2 \notin A_i$, y adem\'as
        $b, c \in A_i$, pero $b, c \notin A_j$. As\'i tenemos que $|A_i
        \triangle A_j| \geq 4$, lo cu\'al es una contradicci\'on pues $A_i$ y
        $A_j$ son elementos de un clan. Por lo tanto para todo $i\in \{3, \dots,
        p\}$ se tiene que $A_i \subset A_1\cup A_2$ o $A_1 \cap A_2 \subset
        A_i$.

        Consideremos primero el caso en el que $A_i \subset A_1\cup A_2$, para
        todo $i\in \{3, \dots, p\}$. Si $S= A_1 \cap A_2$, entonces tenemos que
        $|S| =k-1$ por lo que, para cada $i \in \{3, \dots, p\}$, $A_i$ es la
        uni\'on de $S$ y un elemento que llamamos $v_i$. Notamos que para
        cualesquiera dos elementos distintos $i, j \in \{1, \dots, p\}$ tenemos
        que $A_i \triangle A_j = \{v_i, v_j\}$. Como $X$ es un clan en $F_k(G)$,
        entonces tenemos que $v_i{v_j} \in E(G)$ por lo que el conjunto
        $\{v_i\colon\ i \in \{1 \dots, p\}\}$, es un clan en $G$.   Sea $K =
        \{v_i\colon\ i \in \{1 \dots, p\}\}$.  Notamos que  $K \cap S = \varnothing$ y
        adem\'as $X= \{S \cup \{v\}\colon\ v \in K\}$, por lo que tenemos el caso del
        primer inciso.

        Ahora elegimos el caso en el que $A_1 \cap A_2 \subset A_i$, para todo
        $i\in \{3, \dots, p\}$. Sabemos que $|A_1 \cup A_2| = k+1$, por lo que
        existe un elemento de $A_1 \cup A_2$ que no est\'a en $A_i$, llamamos
        $v_i$ a este elemento. Entonces tenemos que para cualesquiera dos
        \'indices distintos $i, j \in \{1, \dots, p\}$, los v\'ertices $v_i, v_j
        \in V(G)$ son adyacentes. Por lo tanto $K= \{v_i\colon\ i \in \{1, \dots,
        p\}\}$ es un clan en $G$. Si tomamos $S= (A_1 \cup A_2)\setminus K$,
        tenemos que $K \cap S = \varnothing$ y se cumple $|S| + |K|= |(A_1 \cup
        A_2)\setminus K| + |K| = k+1$. Adem\'as notamos que $X = \{(S \cup
        K)\setminus \{v\}\colon\ v\in K\}$ por lo que obtenemos el caso del segundo
        inciso.

        De los argumentos anteriores, concluimos que se satisface la primera
        implicaci\'on. Observemos que en ambos casos $S = \bigcap\limits_{i}
        A_i$ y $K = \bigcup\limits_{i} A_i \setminus S$.
        
        A continuaci\'on nos centramos en la segunda implicaci\'on, en otras
        palabras, demostrar que si existen un clan $K$ de $G$ y un conjunto $S
        \subset V(G)$ tales que $K \cap S = \varnothing$ y pasa alguno de los
        incisos del teorema, entonces $X$ es un clan de $F_k(G)$. Basta
        demostrar que en ambos casos obtenemos $X$ un clan de $F_k(G)$. Si $|K|
        =1$, entonces para ambos incisos obtenemos $|X| =1$, es decir un clan de
        un elemento.Por lo tanto vamos a tomar $|K| \geq 2$. Para el primer
        inciso, tenemos $X = \{S \cup \{v\}\colon\ v \in K\}$ y $|S| = k-1$. Tomamos
        cualesquiera dos $X_1, X_2 \in X$ v\'ertices distintos tenemos que $X_1
        \triangle X_2 =\{x_1, x_2\}$, con $x_1, x_2 \in K$. Como $K$ es un clan
        en $G$, entonces $x_1x_2 \in E(G)$ y obtenemos que $X_1$ y $X_2$ son
        adyacentes en $F_k(G)$. Por lo tanto $X$ es un clan de $F_k(G)$.

        Enfoc\'andonos en el segundo inciso, tomamos $X = \{(S\cup K) \setminus
        \{v\}\colon\ v \in K \}$ con $|S| + |K| = k+1$. Al igual que para el inciso
        anterior, tomamos $X_1$ y $X_2$ v\'ertices distintos de $X$. Por
        construcci\'on de $X$ existen $x_1, x_2 \in K$ tales que $x_1 \notin
        X_1$ y $x_2 \notin X_2$. Adem\'as, como tomamos $|K| \geq 2$, podemos
        garantizamr que $x_1 \neq x_2$. Ahora notamos que $X_1 \triangle X_2 =
        \{x_1, x_2\}$, y al ser $K$ un clan de $G$ tenemos que $x_1x_2 \in
        E(G)$, por lo que tenemos que $X_1$ y $X_2$ son adyacentes en $F_k(G)$.
        Por tanto $X$ cumple ser un clan de $F_k(G)$.
    \end{proof}
    
    %checar \cref de otro capitulo
    Utilizando la gr\'afica del Teorema 1.1.4 y su gr\'afica de $3$-fichas
    daremos un ejemplo de los dos casos mensionados en \cref{teo:clanG-clanFG}.
    ${\color{salmon}K_1 \subseteq G}$, ${\color{baige}S_1\subseteq G}$ y
    ${\color{rosa}X_1\subseteq F_3{G}}$ representan el clan en $G$, el
    subconjunto $S$ y el clan en $F_3(G)$ del caso $1$. De igual manera,
    ${\color{azulOscuro}K_2\subseteq G}$, ${\color{amarilloOscuro}S_2\subseteq
    G}$ y ${\color{azulMetal}X_2 \subseteq F_3(G)}$ representan los del caso
    $2$, respectivamente. Por \'ultimo, los n\'umeros en ${\bf negritas}$ son
    los n\'umeros de el conjunto auxiliar de cada clan.

    \begin{figure}[ht!]
        \centering
           \begin{tikzpicture}
        
            \begin{scope}[xshift=-8.5cm,yshift=2.5cm]
                
                \foreach \i in {1,2,4,5}
                    \draw ({(360/6)*\i}:1.5) node(\i)[bvertex,fill=salmon]{};
                \foreach \i in {0,3}
                    \draw ({(360/6)*\i}:1.5) node(\i)[bvertex,fill=baige]{};
                    
                \foreach \i in {0,...,5}
                    \draw ({(360/6)*\i}:2) node(e0){\pgfmathparse{int(\i+1)}
                   \pgfmathresult};

                \foreach \i/\j in {0/1,0/2,0/3,0/5,2/3,3/4,3/5}
                    \draw [edge,grisOscuro!60] (\i) to (\j);
                
                \foreach \i/\j in {1/2,4/5,1/5,2/4,2/5,1/4}
                    \draw [wedge,salmon] (\i) to (\j);
                \end{scope}

            \begin{scope}[xshift=-8.5cm,yshift=-2.5cm]
                
                \foreach \i in {0,1,2}
                    \draw ({(360/6)*\i}:1.5) node(\i)[bvertex,fill=azulOscuro]{};
                \foreach \i in {3,4}
                    \draw ({(360/6)*\i}:1.5) node(\i)[bvertex]{};
        
                \draw ({(360/6)*5}:1.5) node(5)[bvertex,fill=amarilloOscuro]{};
                        
                \foreach \i in {0,...,5}
                    \draw ({(360/6)*\i}:2) node(e0){\pgfmathparse{int(\i+1)}
                   \pgfmathresult};
    
                \foreach \i/\j in {0/3,0/5,1/4,1/5,2/3,2/4,2/5,3/4,3/5,4/5}
                        \draw [edge,grisOscuro!60] (\i) to (\j);
                
                    \foreach \i/\j in {0/1,0/2,1/2}
                        \draw [wedge,azulOscuro] (\i) to (\j);
            \end{scope}
            
            \begin{scope}[xshift=0cm,yshift=0cm,scale=1]
               \foreach \i in {9,10} \draw ({(360/16)*\i}:4)
                   node(\i)[wvertex,fill=rosa]{};
                
               \foreach \i in {0,1,4} \draw ({(360/16)*\i}:4)
                   node(\i)[wvertex,fill=azulMetal]{};
                
               \foreach \i in {2,3,5,6,7,8,11,12,13,14,15} \draw ({(360/16)*\i}:4)
                   node(\i)[wvertex]{};
        
                \draw ({(360/16)*1}:4.5) node (e1) {{\small $23{\bf 6}$}};
                \draw ({(360/16)*2}:4.5) node (e1) {{\footnotesize $256$}};
                \draw ({(360/16)*3}:4.5) node (e1) {{\footnotesize $246$}};
                \draw ({(360/16)*4}:4.5) node (e1) {{\small $12{\bf 6}$}};
                \draw ({(360/16)*5}:4.5) node (e1) {{\footnotesize $123$}};
                \draw ({(360/16)*6}:4.5) node (e1) {{\footnotesize $125$}};
                \draw ({(360/16)*7}:4.5) node (e1) {{\footnotesize $245$}};
                \draw ({(360/16)*8}:4.5) node (e1) {{\footnotesize $234$}};
                \draw ({(360/16)*9}:4.5) node (e1) {{\small ${\bf 1}3{\bf 4}$}};
                \draw ({(360/16)*10}:4.5) node (e1) {{\small ${\bf 14}5$}};
                \draw ({(360/16)*11}:4.5) node (e1) {{\footnotesize $135$}};
                \draw ({(360/16)*12}:4.5) node (e1) {{\footnotesize $345$}};
                \draw ({(360/16)*13}:4.5) node (e1) {{\footnotesize $346$}};
                \draw ({(360/16)*14}:4.5) node (e1) {{\footnotesize $456$}};
                \draw ({(360/16)*15}:4.5) node (e1) {{\footnotesize $156$}};
                \draw ({(360/16)*16}:4.5) node (e1) {{\small $13{\bf 6}$}};
        
                \draw (-1.1,0.2) node (17) [vertex, fill=rosa, label=5:{\footnotesize ${\bf1}2{\bf 4}$}] {};
                \draw (0,-0.3) node (18) [vertex, fill=rosa, label=70:{\footnotesize ${\bf 14}6$}] {};
                \draw (1.2,0.7) node (19) [vertex, label=180:{\tiny $356$}] {};
                \draw (0.3,1.4) node (20) [vertex, label=88:{\tiny $235$}] {};
                
                \foreach\i/\j in{1/2,2/3,3/4,4/5,5/6,6/7,7/8,8/9,10/11,
                   11/12,12/13,13/14, 14/15, 15/0} 
                   \draw [edge,grisOscuro!60] (\i) to (\j);
                
                \foreach\i/\j in{0/5,0/11,0/13,1/3,1/5,2/6,2/7,2/15,3/7,3/8,
                4/6,4/15,5/8,6/11,6/15,7/10,7/12,8/12,8/13,9/11,9/13,10/12,10/14,10/15,
                11/15,12/14} 
                   \draw [edge,grisOscuro!60] (\i) to (\j);
                
                \foreach \i/\j in{1/8,3/13,3/14,5/11,7/14,9/0,17/3,17/4,17/5,17/6,
                17/8,3/18,15/18,18/13,18/0,19/1,19/2,19/11,19/12,
                19/13,19/14,19/15,19/20,20/1,20/2,20/6,20/7,20/8,20/11}
                  \draw [edge] (\i) to (\j);
        

                \foreach\i/\j in{9/10,9/17,9/18,10/17,10/18,17/18} 
                    \draw [wedge,rosa] (\i) to (\j);
                
                \foreach\i/\j in{0/1,0/4,1/4} 
                    \draw [wedge,azulMetal] (\i) to (\j);
                \end{scope}
        
                
            

            \end{tikzpicture}
            \caption{$K_2$, $S_2$ y $X_2$ d\cref{teo:clanG-clanFG}}
            \label{fig:ex-clique2}
            \end{figure}
       
            
    \begin{teorema}
    \label{teo:clan-max}
        Sea $G$ una gr\'afica y $F_k(G)$ su gr\'afica de $k$-fichas, entonces
        $\omega(F_k(G))= \min \{\omega(G), \max \{n-k+1,k+1\}\}$.
    \end{teorema}

    \begin{proof}
        Sea $X$ un clan de $F_k(G)$ con $\omega(F_k(G))$ v\'ertices. Sabemos que
        $X$ satisface alguno de los incisos d\cref{teo:clanG-clanFG}. Para el resto de esta desigualdad, consideremos a $K$ como en el
        teorema anterior.   Si $X = \{S \cup \{v\} \colon\ v \in K\}$ y $|S| =
        k-1$, notamos que $|X| = |K|$. Adem\'as tenemos que $n \geq |S| + |K|$.
        Por lo tanto tenemos que $n \geq |S| + |K| = k-1 + |X|$, es decir $|X|
        \leq n-k+1$. Ahora, si $X = \{(S\cup K) \setminus \{v\} \colon\ v \in K
        \}$ y $|S| + |K| = k+1$, notamos que tenemos la misma cardinalidad que
        en caso anterior, es decir $|X| =|K|$. Entonces $|X| = |K| \leq |S| +
        |K| = k+1$. Por lo tanto, de los dos casos obtenemos que $|X| \leq
        \max\{n-k+1, k+1\}$. Adicionalmente, tenemos que ambos casos cumpllen
        $|X| = |K| \leq \omega(G)$. Por lo que $\omega(F_k(G)) = |X| \leq \min
        \{\omega(G), \max \{n-k+1, k+1\}\}$ y de esta manera obtenemos la cota
        superior de la ecuaci\'on deseada.

        Tomemos ahora un clan $K$ de $G$ con $\omega(G)$ v\'ertices.
        Consideramos las siguientes construcciones de clanes de $F_k(G)$.
        Primero, sea $K'$ un subconjunto de $K$ con $\min\{\omega(G),n-k+1\}$
        v\'ertices. Entonces tenemos que $|V(G) \setminus K'| \geq k-1$. Luego,
        sea $S$ un subconjunto de $V(G) \setminus K'$ con exactamente $k-1$
        v\'ertices. Obtenemos un clan de $F_k(G)$ de la forma $\{ S \cup \{v\}
        \colon\ v \in K'\}$. Este clan tiene $|K'|$ v\'ertices. Por lo tanto
        tenemos que $\omega(F_k(G)) \geq \min \{\omega(G), n-k+1\}$. Ahora
        tomamos el subconjunto $K'$ de $K$ con $\min \{ \omega(G), k+1\}$
        v\'ertices. Como $n \geq k+1$, entonces existe un subconjunto $S$ de
        $V(G) \setminus K'$ con $(k+1)-|K'|$ v\'ertices. Entonces tenemos un
        clan de $F_k(G)$ de la forma $\{ (S \cup K') \setminus \{v\} \colon\ v
        \in K'\}$ que tiene $|K'|$ v\'ertices. Por lo tanto tenemos que
        $\omega(F_k(G)) \geq \min \{\omega(G), k+1\}$.

        Por los dos casos anteriores obtenemos que $\omega(F_k(G)) \geq \max
        \{\min \{\omega(G), n-k+1\}, \min \{\omega(G), k+1 \}\} = \min
        \{\omega(G), \max \{n-k+1,k+1\}\}$. De esta manera obtenemos la cota
        inferior de la ecuaci\'on deseada. Por lo tanto tenemos que se cumple la
        igualdad, es decir  $\omega(F_k(G))= \min \{\omega(G), \max
        \{n-k+1,k+1\}\}$.
    \end{proof}

    \begin{corolario}
        Si asumimos $k \leq \frac{n}{2}$, entonces $\omega(F_k(G))= \min
        \{\omega(G), n-k+1\}$.
    \end{corolario}

    \begin{proof}
        Por \cref{teo:clan-max} sabemos que $\omega(F_k(G))= \min
        \{\omega(G), \max \{n-k+1,k+1\}\}$. Basta demostrar que $\max \{n-k+1,
        k+1\} = n-k+1$. En otras palabras $n-k+1 \geq k+1$, esto pasa si y
        s\'olo si $n \geq 2k$. Por lo tanto, si $\frac{n}{2} \geq k$, se cumple
        la igualdad deseada.
    \end{proof}